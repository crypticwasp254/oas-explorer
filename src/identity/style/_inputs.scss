// floating label adopted from bootstrap5 and google material design
.id-input {
	--p-inline: 0.75rem;
	--p-block: 0.8rem;
	--m-block: 0.6rem;
	--m-inline: 0.5rem;

	--padding: var(--p-block) var(--p-inline);
	--margin: var(--m-block) var(--m-inline);
	padding: var(--margin);
	width: 100%;
	position: relative;
	display: flex;
	flex-direction: column;

	// icon helpers
	.lead,
	.trail {
		height: 100%;
		// background: var(--surface2);
		border-radius: var(--radius);
		display: grid;
		place-items: center;
		padding-block: var(--p-block);
	}

	.lead {
		padding-inline-start: var(--p-inline);
	}

	.trail {
		padding-inline-end: var(--p-inline);
	}

	// input container
	.inputcontainer {
		width: 100%;
		background: var(--surface2);
		border-radius: var(--radius);
		display: flex;
		align-items: center;

		.input {
			flex-grow: 1;

			input {
				width: 100%;
				line-height: 1.25;
				outline: none;
			}
		}

		// this feels pretty dumb though
		&.withslider {
			background: transparent;
		}
	}

	&.error {
		.inputcontainer {
			border-color: var(--failure);

			.input label {
				color: var(--failure);
			}
		}

		.inputextras {
			color: var(--failure);
		}
	}
}

.inputfield {
	.inputcontainer {
		border-bottom: 2px solid var(--textdim);

		&:focus-within {
			border-bottom: 2px solid var(--brand);
		}
	}

	// main input
	.input {
		position: relative;
		margin-bottom: 0rem;
		overflow: hidden;
		border-radius: var(--radius);

		label {
			width: 100%;
			position: absolute;
			top: 0;
			left: 0;
			height: 100%;
			padding: var(--padding);
			pointer-events: none;
			border: 1px solid transparent;
			transform-origin: 0 0;
			opacity: 0.8;
			transition: opacity 0.1s ease-in-out, transform 0.1s ease-in-out, color 0.1s ease-in-out;
			text-transform: capitalize;
			user-select: none;
		}

		input[type='text'],
		input[type='email'],
		input[type='password'],
		input[type='number'] {
			position: relative;
			width: 100%;
			line-height: 1.25;
			padding: var(--padding);
			background: var(--surface2);
			border-radius: 0px;

			&::placeholder {
				color: transparent;
				user-select: none;
			}

			&:focus {
				border: none;
				~ label {
					color: var(--brand);
				}
			}

			&:focus,
			&:not(:placeholder-shown) {
				padding-top: 1.3rem;
				padding-bottom: 0.3rem;

				~ label {
					opacity: 0.75;
					transform: scale(0.8) translateY(-0.5rem) translateX(0.15rem);
				}
			}

			&:-webkit-autofill {
				padding-top: 1.3rem;
				padding-bottom: 0.3rem;

				~ label {
					color: var(--brand);
					opacity: 0.65;
					transform: scale(0.8) translateY(-0.5rem) translateX(0.15rem);
				}
			}
		}
	}

	// helptext,error message and wordcount
	.inputextras {
		padding-inline: var(--p-inline);
		padding-block: 0.4rem;
		color: var(--text2);
		font-size: 0.875rem;
		display: flex;
	}
}

.flatinput {
	.input {
		background: var(--surface2);
		padding: var(--padding);
		border-radius: var(--radius);
	}
}

/**
 * Slider
 */

.inputslider {
	--slider-height: 0.2rem;
	--slider-radius: calc(var(--slider-height) / 2);
	border: 2px solid transparent;
	position: relative;
	flex-grow: 1;
	padding: var(--padding);

	.track {
		background: var(--surface3);
		height: var(--slider-height);
		border-radius: var(--slider-radius);
		overflow: hidden;

		.fill {
			height: 100%;
			background: var(--brand);
			width: calc((var(--value) / var(--max)) * 100%);
		}
	}

	input[type='range'] {
		position: absolute;
		top: 0;
		appearance: none !important;
		height: 100%;
		width: calc(100% - var(--p-inline) * 2);
		cursor: pointer;

		&::-webkit-slider-thumb {
			border-radius: var(--radius-round);
			appearance: none;
			width: 1rem;
			height: 1rem;
			background: var(--brand);
			cursor: pointer;
			box-shadow: var(--shadow2);
		}

		&::-moz-range-thumb {
			border-radius: var(--radius-round);
			appearance: none;
			width: 1rem;
			height: 1rem;
			background: var(--brand);
			cursor: pointer;
			box-shadow: var(--shadow2);
		}
	}

	&:focus-within {
		border: 2px solid var(--brand);
		border-radius: var(--radius);
	}
}

/**
 * Checkboxes are real hard af
 */

.checkbox {
	display: flex;
	align-items: center;
	position: relative;
	// padding: var(--padding);
	width: 100%;

	input[type='checkbox'] {
		appearance: none;
		// background-color: var(--surface4);
		margin: 0;
		// color: currentColor;
		width: 1rem;
		height: 1rem;
		border-radius: var(--radius);
		// transform: translateY(-0.075em);
		border: 2px solid hsla(var(--brand-hue), 24%, var(--brand-lightness), 0.5);
		display: grid;
		place-content: center;
		position: relative;

		&::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			border-radius: var(--radius);
			// border-radius: 0.15em;
			// background-color: var(--surface4);
			// transition: background-color 0.1s ease-in-out;
		}

		&:checked {
			// border: 2px solid var(--brand);
			&::before {
				background-color: var(--brand);
				// border: 2px solid var(--brand);
				// background: url("<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="var(--text2)"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>");
				// background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='%23000000'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath d='M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z'/%3E%3C/svg%3E");
				background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='var(--text2)'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath d='M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z'/%3E%3C/svg%3E");
				background-size: 18px 18px;
				background-position: center;
			}
		}

		// &:indeterminate {
		// 	&::before {
		// 		background-color: green;
		// 	}
		// }
	}

	label {
		padding-inline-start: var(--p-inline);
	}

	// input {
	// 	padding: 0;
	// 	position: absolute;
	// 	cursor: pointer;
	// 	top: 0;
	// 	height: 1rem;
	// 	width: 1rem;
	// 	left: 0;
	// 	z-index: 2;
	// 	opacity: 0 !important;

	// 	&:checked ~ .checkmark:after {
	// 		display: block;
	// 	}
	// }

	// .checkmark {
	// 	position: absolute;
	// 	top: 0;
	// 	left: 0;
	// 	height: 1rem;
	// 	width: 1rem;
	// 	border-radius: var(--radius);
	// 	background-color: #eee;

	// 	&:after {
	// 		content: '';
	// 		position: absolute;
	// 		display: none;
	// 	}

	// 	&:after {
	// 		top: 50%;
	// 		left: 50%;
	// 		transform: translateX(-50%) translateY(-50%) rotate(45deg);
	// 		width: 0.3rem;
	// 		height: 0.6rem;
	// 		border: solid white;
	// 		border-width: 0 0.2rem 0.2rem 0;
	// 	}
	// }

	// &:hover input ~ .checkmark {
	// 	background-color: #ccc;
	// }

	// input:checked ~ .checkmark {
	// 	background-color: var(--brand);
	// }
}

/**
 * Trash
 */
// .select {
// 	width: 100%;
// 	position: relative;
// 	display: grid;
// 	grid-template-areas: 'select';
// 	align-items: center;
// 	// padding: 0.4rem 1rem;
// 	cursor: pointer;

// 	select {
// 		appearance: none;
// 		line-height: inherit;

// 		width: 100%;
// 		outline: none;
// 		border: none;
// 		padding: 0.4rem 1rem;
// 		border-radius: var(--radius);
// 		background: hsla(0, 0%, 100%, 0.13);
// 		color: var(--text1);

// 		option {
// 			color: var(--text1);
// 			background: #17181c;
// 			border: none;
// 			padding: 0.4rem 1rem;
// 			// &:last-child {
// 			// 	background: green;
// 			// 	border-radius: 1rem;
// 			// }

// 			&:hover {
// 				background: var(--brand);
// 			}
// 		}
// 	}

// 	&::after {
// 		content: '';
// 		width: 0.8em;
// 		height: 0.5em;
// 		// background-color: var(--select-arrow);
// 		background-color: var(--brand);
// 		clip-path: polygon(100% 0%, 0 0%, 50% 100%);
// 		justify-self: end;
// 		margin-right: 1rem;
// 	}

// 	&::after,
// 	select {
// 		grid-area: select;
// 	}

// 	select:focus + .focus {
// 		position: absolute;
// 		top: -1px;
// 		left: -1px;
// 		right: -1px;
// 		bottom: -1px;
// 		border: 2px solid var(--brand);
// 		border-radius: var(--radius);
// 	}
// }

// /*
// * CUSTOM CHECKBOX V1
// */

// .checkbox {
// 	display: block;
// 	position: relative;
// 	padding-left: 1.5rem;
// 	cursor: pointer;
// 	user-select: none;
// 	height: 1rem;
// 	width: 1rem;
// 	border-radius: var(--radius);

// 	input {
// 		padding: 0;
// 		position: absolute;
// 		cursor: pointer;
// 		top: 0;
// 		height: 1rem;
// 		width: 1rem;
// 		left: 0;
// 		z-index: 2;
// 		opacity: 0 !important;

// 		&:checked ~ .checkmark:after {
// 			display: block;
// 		}
// 	}

// 	.checkmark {
// 		position: absolute;
// 		top: 0;
// 		left: 0;
// 		height: 1rem;
// 		width: 1rem;
// 		border-radius: var(--radius);
// 		background-color: #eee;

// 		&:after {
// 			content: '';
// 			position: absolute;
// 			display: none;
// 		}

// 		&:after {
// 			top: 50%;
// 			left: 50%;
// 			transform: translateX(-50%) translateY(-50%) rotate(45deg);
// 			width: 0.3rem;
// 			height: 0.6rem;
// 			border: solid white;
// 			border-width: 0 0.2rem 0.2rem 0;
// 		}
// 	}

// 	&:hover input ~ .checkmark {
// 		background-color: #ccc;
// 	}

// 	input:checked ~ .checkmark {
// 		background-color: var(--brand);
// 	}
// }

// /*
// * CUSTOM RADIO BUTTON V1
// */

// .radio {
// 	display: block;
// 	position: relative;
// 	padding-left: 1.5rem;
// 	cursor: pointer;
// 	user-select: none;
// 	height: 1rem;
// 	width: 1rem;

// 	input {
// 		position: absolute;
// 		cursor: pointer;
// 		top: 0;
// 		height: 1rem;
// 		width: 1rem;
// 		left: 0;
// 		z-index: 2;
// 		opacity: 0 !important;

// 		&:checked ~ .checkmark {
// 			border: 1px solid var(--brand);

// 			&:after {
// 				display: block;
// 			}
// 		}
// 	}

// 	.checkmark {
// 		position: absolute;
// 		top: 0;
// 		left: 0;
// 		height: 1rem;
// 		width: 1rem;
// 		background-color: #eee;
// 		border-radius: 50%;

// 		&:after {
// 			content: '';
// 			position: absolute;
// 			display: none;
// 		}

// 		&:after {
// 			top: 50%;
// 			left: 50%;
// 			transform: translate(-50%, -50%);
// 			// top: 9px;
// 			// left: 9px;
// 			width: 0.6rem;
// 			height: 0.6rem;
// 			border-radius: 50%;
// 			// background: white;
// 			background-color: var(--brand);
// 		}
// 	}

// 	// &:hover input ~ .checkmark {
// 	// 	background-color: #ccc;
// 	// }
// }

// /*
// * SWITCHES V1
// */

// .switch {
// 	position: relative;
// 	display: inline-block;
// 	width: 2rem;
// 	height: 1rem;

// 	input {
// 		cursor: pointer;
// 		position: absolute;
// 		z-index: 2;
// 		width: 100%;
// 		height: 100%;
// 		opacity: 0;

// 		&:checked + .slider {
// 			background-color: var(--brand);

// 			&:before {
// 				transform: translateX(1.1rem);
// 			}
// 		}

// 		&:focus + .slider {
// 			box-shadow: 0 0 1px var(--brand);
// 		}
// 	}

// 	.slider {
// 		position: absolute;
// 		cursor: pointer;
// 		top: 0;
// 		left: 0;
// 		right: 0;
// 		bottom: 0;
// 		background-color: #ccc;
// 		transition: 0.2s;
// 		border-radius: 1rem;

// 		&:before {
// 			position: absolute;
// 			content: '';
// 			height: 1.2rem;
// 			width: 1.2rem;
// 			border-radius: 1rem;
// 			// left: .rem;
// 			// bottom: 1rem;
// 			// left: 4px;
// 			bottom: -0.1rem;
// 			background-color: white;
// 			transition: 0.2s;
// 		}
// 	}
// }
